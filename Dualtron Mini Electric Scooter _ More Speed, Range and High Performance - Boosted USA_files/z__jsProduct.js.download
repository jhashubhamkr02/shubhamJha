"use strict";Shopify.theme.jsProduct={init:function(t){Shopify.theme.jsProduct=$.extend(this,Shopify.theme.getSectionData(t));var e=t.find(".product-gallery__main"),a=t.find(".sticky-product-scroll");this.template==="image-scroll"?(isScreenSizeLarge()&&this.enableStickyScroll(a),this.enable_zoom&&this.enableZoom(e),this.enable_product_lightbox&&this.enableLightbox(e),this.enableSlideshow(e)):this.template==="classic"||this.template==="featured-product-section"?(this.enableSlideshow(e),this.enable_zoom&&this.enableZoom(e),this.enable_product_lightbox&&this.enableLightbox(e)):this.template==="sections"?(this.enableSlideshow(e),this.enable_zoom&&this.enableZoom(e),this.enable_product_lightbox&&this.enableLightbox(e)):this.template==="featured-slideshow"&&this.enableFeaturedSlideshow(e),$(".product_form_options",t).each(function(){new Shopify.OptionSelectors($(this).data("select-id"),{product:$(this).data("product"),onVariantSelected:selectCallback,enableHistoryState:$(this).data("enable-state")})}),window.location.search==="?contact_posted=true"&&($(".notify_form .contact-form").hide(),$(".notify_form .contact-form").prev(".message").html(Shopify.translation.notify_form_success));var i=$(".notify_form .contact-form");i.each(function(){var o=$(this);o.on("submit",function(r){$('input[name="challenge"]',o).val()!=="true"&&($.ajax({type:o.attr("method"),url:o.attr("action"),data:o.serialize(),success:function(l){o.fadeOut("slow",function(){o.prev(".message").html(Shopify.translation.notify_form_success)})},error:function(l){$('input[name="challenge"]',o).val("true"),o.submit()}}),r.preventDefault())})}),Shopify.theme_settings.product_form_style==="swatches"?this.enableProductSwatches():Shopify.theme_settings.product_form_style==="dropdown"&&($(".selector-wrapper select",t).wrap('<span class="select" data-dropdown-form-style></span>'),this.findSelectedVariantImage()),$(".masonry--true").length>0&&Shopify.theme.applyMasonry(".thumbnail")},enableStickyScroll:function(t){var e=0,a=0;typeof Shopify.theme.jsAnnouncementBar!="undefined"&&Shopify.theme.jsAnnouncementBar.enable_sticky&&(e=$("#announcement-bar").outerHeight()),Shopify.theme_settings.header_layout!="vertical"&&Shopify.theme.jsHeader.enable_sticky&&(a=$("#header").outerHeight()),t.stick_in_parent({offset_top:e+a+20})},enableLightbox:function(t){t.find(".product-gallery__link").fancybox({beforeClose:function(a,i){var o=a.$trigger.first().parents(".product-gallery__main");o.hide(),setTimeout(function(){o.fadeIn(100)},500)}})},enableZoom:function(t){t.find("img").wrap('<span class="zoom-container"></span>').css("display","block").parent().zoom({touch:!1,magnify:1})},disableSlideshow:function(t){var e=t.find(".flickity-enabled");e.flickity("destroy")},enableFeaturedSlideshow:function(t){var e=t.flickity({wrapAround:!0,setGallerySize:!1,dragThreshold:10,imagesLoaded:!0,pageDots:!1,prevNextButtons:this.product_images_amount>1?this.gallery_arrows:!1,autoPlay:this.slideshow_speed*1e3,arrowShape:arrowShape});e.on("staticClick.flickity",function(a,i,o,r){r!==void 0&&e.flickity("select",r)})},enableSlideshow:function(t){var e=t.parents(".product-gallery").find(".product-gallery__thumbnails");t.flickity({wrapAround:!0,adaptiveHeight:!0,dragThreshold:10,imagesLoaded:!0,pageDots:this.product_images_amount>1,prevNextButtons:this.product_images_amount>1?this.gallery_arrows:!1,autoPlay:this.slideshow_speed*1e3,fade:this.slideshow_transition==="fade",watchCSS:this.template==="image-scroll",arrowShape:arrowShape}),setTimeout(function(){t.flickity("resize")},500),$(window).on("load",function(){t.flickity("resize")});var a=t.data("flickity");if(this.enable_thumbnail_slider===!0&&this.product_images_amount>1)if(this.thumbnail_position=="right-thumbnails"||this.thumbnail_position=="left-thumbnails"){e.css("max-height",t.closest("product-gallery").outerHeight());var i=e.find(".product-gallery__thumbnail");e.addClass("vertical-slider-enabled"),e.on("click",".product-gallery__thumbnail",function(l){var c=$(l.currentTarget).index();t.flickity("select",c)});var o=i.height(),r=e.height();t.on("select.flickity",function(){e.find(".is-nav-selected").removeClass("is-nav-selected");var l=i.eq(a.selectedIndex).addClass("is-nav-selected"),c=l.position().top+e.scrollTop()-(r+o)/2;e.animate({scrollTop:c})})}else e.flickity({cellAlign:"center",contain:!0,groupCells:"80%",imagesLoaded:!0,pageDots:!1,prevNextButtons:this.product_images_amount>5?this.thumbnail_arrows:!1,asNavFor:this.template==="image-scroll"&&isScreenSizeLarge()?"":t[0],arrowShape:arrowShape});var s=e.find(".product-gallery__thumbnail");s.on("click",function(l){var c=$(this).find("img").data("index");t.flickity("select",c)})},enableProductSwatches:function(){if($("body").on("change",".swatch :radio",function(){var e=$(this).closest(".swatch").attr("data-option-index"),a=$(this).val(),i=$(this).closest(".product_form form");if(i.siblings(".notify_form").length)var o=i.siblings(".notify_form");else var o=$(".js-notify-form");var r=i.find(".swatch_options input:checked").eq(0).val(),s=i.find(".swatch_options input:checked").eq(1).val()||"",l=i.find(".swatch_options input:checked").eq(2).val()||"";if(r&&s&&l)var c=r+" / "+s+" / "+l;else if(r&&s)var c=r+" / "+s;else var c=r;o.find(".notify_form_message").attr("value",o.find(".notify_form_message").data("body")+" - "+c),$(this).closest("form").find(".single-option-selector").eq(e).val(a).trigger("change")}),$(".js-product_section").length){var t=$(".js-product_section").find(".product_form");t.addClass("is-visible"),t.each(function(){var e=$(this).data("product"),a=$(this).data("product-id"),i=".product-"+a+" .js-product_section",o=$(this).find(".swatch_options .swatch");o.length>1&&Shopify.linkOptionSelectors(e,i)})}$(".js-product_section").length>1&&$("body").on("click",".swatch-element",function(){var e=$(this).data("value").toString();$(this).siblings('input[value="'+e.replace(/\"/g,'\\"')+'"]').prop("checked",!0).trigger("change");var a=$(this).parents(".product_form").data("product"),i=$(this).parents(".product_form").data("product-id"),o=".product-"+i+" .js-product_section",r=$(this).parents(".product_form").find(".swatch_options .swatch");r.length>1&&Shopify.linkOptionSelectors(a,o)}),this.findSelectedVariantImage()},findSelectedVariantImage:function(){$("[data-variant-selector]").on("selectedVariantChanged",function(){$(this).attr("disabled")||t($(this),$(this).val())});function t(e,a){var i=e.parents(".product_form"),o=i.find("select option[value=".concat(a,"]")),r=o.attr("data-image-id");if(!r)return!1;var s=$("[data-image-id=".concat(r,"]")).data("index");Shopify.theme.jsProduct.template==="image-scroll"&&Shopify.theme.jsProduct.scrollSelectedImage(s)}},scrollSelectedImage:function(t){var e=0,a=0;Shopify.theme.jsHeader.enable_sticky==!0&&Shopify.theme_settings.header_layout!="vertical"&&(e=Shopify.theme.jsHeader.getHeaderHeight()),typeof Shopify.theme.jsAnnouncementBar!="undefined"&&Shopify.theme.jsAnnouncementBar.enable_sticky==!0&&Shopify.theme_settings.header_layout!="vertical"&&(a=Shopify.theme.jsAnnouncementBar.getAnnouncementHeight());var i=e+a;Shopify.theme.scrollToTop($('[data-index="'.concat(t,'"]')),i)},relatedProducts:function(){$(".block__recommended-products .js-related-products-slider .products-slider").each(function(t,e){var a=$(this),i={products_per_slide:a.data("products-per-slide"),products_available:a.data("products-available"),products_limit:a.data("products-limit"),initialIndex:0,cellAlign:"left",wrapAround:!0};i.products_available>i.products_per_slide&&i.products_limit>i.products_per_slide?i.wrapAround=!0:i.wrapAround=!1,i.products_available<i.products_per_slide||i.products_limit<i.products_per_slide?(a.addClass("container is-justify-center"),a.find(".gallery-cell").addClass("column")):(a.flickity({lazyLoad:2,freeScroll:!0,imagesLoaded:!0,draggable:!0,cellAlign:"center",wrapAround:i.wrapAround,pageDots:!1,contain:!0,prevNextButtons:i.products_limit>i.products_per_slide,initialIndex:i.initialIndex,arrowShape:arrowShape}),setTimeout(function(){a.flickity("resize")},500),$(window).on("load",function(){a.flickity("resize")}))})},unload:function(t){$(".selector-wrapper select",t).unwrap(),this.disableSlideshow(t),$("[data-variant-selector]").off()}};
//# sourceMappingURL=/s/files/1/0268/1454/6031/t/9/assets/z__jsProduct.js.map?v=55754551616120128391658090556
